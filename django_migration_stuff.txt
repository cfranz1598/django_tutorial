https://docs.djangoproject.com/en/4.0/howto/deployment/checklist/
ssh-keygen -t rsa
ssh-copy-id -i ~/.ssh/id_rsa.pub pi@192.168.1.73


#  get mysql working for django
sudo apt-get install python3-dev default-libmysqlclient-dev build-essential
pip install mysqlclient



sudo nano /etc/apache2/sites-available/000-default.conf
sudo systemctl restart apache2


	Alias /static /home/pi/django_project/static
    <Directory /home/pi/django_project/static>
        Require all granted
    </Directory>

	Alias /media /home/pi/django_project/media
    <Directory /home/pi/django_project/media>
        Require all granted
    </Directory>

    <Directory /home/pi/django_project/django_project>
        <Files wsgi.py>
            Require all granted
        </Files>
    </Directory>

    WSGIDaemonProcess django python-path=/home/pi/django_project python-home=/home/pi/django_project/djenv
    WSGIProcessGroup django
    WSGIScriptAlias / /home/pi/django_project/django_project/wsgi.py


sudo a2ensite sjango_project
sudo a2dissite 000-default.conf
sudo systemctl reload apache2


mkdir -p /home/pi/django_project/static
cd /home/pi/django_project

django-admin startproject django_project .

nano "/home/pi/django_project/django_project/settings.py"


nano "/home/pi/django_project/django_project/settings.py"
# Change as such... I guess
ALLOWED_HOSTS = ["localhost", "192.168.1.73", "rpi-server"]
STATIC_ROOT= os.path.join(BASE_DIR, 'static')
STATIC_URL = '/static/'



sudo nano /etc/ssh/sshd_config
## set authentication params
sudo systemctl restart sshd


## install uncomplicated firewall
sudo apt-get install ufw
sudo ufw default allow outgoing
sudo ufw default deny incomming
sudo ufw allow ssh
sudo ufw allow 8000
sudo ufw allow 80
sudo ufw enable

sudo ufw status

#create the virtual environment
pi@rpi-server:~ $ python3 -m venv django_project/venv
pi@rpi-server:~/django_project $  source venv/bin/activate


(venv) pi@rpi-server:~/django_project $ python3 manage.py collectstatic

sudo apt-get install python3-django-crispy-forms	


packages for an environment go here:
/usr/lib/python3/dist-packages
/home/pi/django_project/venv/lib/python3.9/site-packages

cp -r /usr/lib/python3/dist-packages/django_crispy_forms-1.9.2.egg-info ./
cp -r /usr/lib/python3/dist-packages/crispy_forms ./

# will open a server that can be accessed elsewhere
python manage.py runserver 0.0.0.0:8000
export EMAIL_USER="cfranz1598@gmail.com"
export EMAIL_PASS='$Tyrpac99'



sudo chown :www-data django_project/db.sqlite3
sudo chmod 664 django_project/db.sqlite3
sudo chown :www-data django_project/

sudo chown -R :www-data django_project/media
sudo chmod 775 django_project/media




